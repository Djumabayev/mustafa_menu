"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8306],{6769:function(i,t,n){var e=n(5675),o=n.n(e),r=n(1664),a=n.n(r),c=n(7294),s=n(5797),u=n(5893);function Navbar(i){var t=i.logo,n=i.title,e=i.backUrl,r=i.backAs,c=i.phone,d=i.className,l=i.logoHeight,p=i.logoWidth,m=p?40/l*p:40;return(0,u.jsx)("nav",{className:"navbar ".concat(e&&"sticky-top p-0 py-md-2"," navbar-expand-md navbar-light border-bottom ").concat(d),children:(0,u.jsxs)("div",{className:"container px-5 flex-nowrap",children:[e?(0,u.jsx)("div",{className:"navbar-brand w-100 m-0 pt-0 pt-md-2",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col",children:!!e&&(0,u.jsx)(a(),{href:e,as:r,scroll:!1,"data-testid":"modal_back_btn",className:"text-decoration-none p-3 ms-n3",children:(0,u.jsx)(s.NI,{})})}),(0,u.jsx)("div",{className:"col-auto",children:(0,u.jsx)("span",{className:"h6",children:n})}),(0,u.jsx)("div",{className:"col"})]})}):(0,u.jsx)(a(),{href:"/",scroll:!1,className:"navbar-brand me-2",children:t?(0,u.jsx)("div",{className:"d-inline-block lh-0 align-middle",style:{margin:"-10px 0",height:"".concat(40,"px"),width:"".concat(m,"px")},children:(0,u.jsx)(o(),{src:t,alt:n,height:40,width:m,layout:"fixed"})}):(0,u.jsx)("span",{children:n})}),(0,u.jsx)("ul",{className:"navbar-nav ms-auto mb-2 mb-md-0 d-none d-md-flex",children:!!c&&(0,u.jsx)("li",{className:"nav-item",children:(0,u.jsx)(a(),{href:"tel:".concat(c),className:"nav-link text-primary py-4 py-md-2","aria-current":"page",children:c})})})]})})}Navbar.defaultProps={backUrl:"",backAs:"",title:"",logo:null,logoWidth:0,logoHeight:0,className:""},t.Z=(0,c.forwardRef)(Navbar)},7686:function(i,t,n){var e=n(7294),o=n(5697),r=n.n(o),a=n(5893),c=e.forwardRef(function(i,t){var n=i.text,e=i.onClick,o=i.isDisabled,r=i.loading,c=i.className;return(0,a.jsxs)("button",{"data-testid":"submit_product_in_popup_btn",className:"btn btn-primary w-100 py-3 position-relative ".concat(c),type:"button",ref:t,onClick:e,disabled:o||r,children:[(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:n}}),r&&(0,a.jsx)("span",{className:"spinner-border spinner-border-sm ",role:"status","aria-hidden":"true",style:{position:"absolute",top:"16px",right:"16px"}})]})});c.propTypes={text:r().string.isRequired,onClick:r().func,isDisabled:r().bool,loading:r().bool,className:r().string},c.defaultProps={onClick:function(){},isDisabled:!1,loading:!1,className:""},t.Z=c},6698:function(i,t,n){n.d(t,{Z:function(){return b}});var e=n(2777),o=n(2262),r=n(748),a=n(1531),c=n(3553),s=n(7247),u=n(9499),d=n(7294),l=n(6005),p=n(7371),m=n(453);n(8291);var f=n(5893);function ownKeys(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})),n.push.apply(n,e)}return n}function _objectSpread(i){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,u.Z)(i,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(n,t))})}return i}var h=function(i){(0,a.Z)(DishGroup,i);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}(),function(){var i,n=(0,s.Z)(DishGroup);if(t){var e=(0,s.Z)(this).constructor;i=Reflect.construct(n,arguments,e)}else i=n.apply(this,arguments);return(0,c.Z)(this,i)});function DishGroup(){var i;(0,e.Z)(this,DishGroup);for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=n.call.apply(n,[this].concat(o)),(0,u.Z)((0,r.Z)(i),"getGroupModification",function(){var t=i.props,n=t.group;return t.modification.filter(function(i){return l.ZP.findWhere(n.modifications,{dish_modification_id:i.m})})}),(0,u.Z)((0,r.Z)(i),"changeValue",function(t,n){var e=n.dish_modification_id,o=i.props,r=o.onChange,a=o.group,c=t.target.checked,s=i.getGroupModification();l.ZP.findWhere(s,{m:e})||s.push({m:e,a:0,price:n.price}),r(s=s.map(function(i){return i.m===e?_objectSpread(_objectSpread({},i),{},{a:c?1:0}):1===a.type?_objectSpread(_objectSpread({},i),{},{a:0}):i}))}),i}return(0,o.Z)(DishGroup,[{key:"render",value:function(){var i=this,t=this.props,n=t.group,e=t.modification,o=t.onChange,r=t.showCart,a=0;this.getGroupModification().forEach(function(i){a+=i.a});var c=n.modifications;return c=c.sort(function(i,t){return i.dish_modification_id>t.dish_modification_id?1:-1}),(0,f.jsx)("div",{className:"p-dish-group mb-5",children:c.map(function(t,c){var s=e.find(function(i){return i.m===t.dish_modification_id}),u=!!(s&&s.a),d=c===n.modifications.length-1;return(0,f.jsxs)("div",{className:"row g-3 border-light ".concat(!d&&"border-bottom"),children:[r&&(0,f.jsx)("div",{className:"col-auto d-flex align-items-center",children:(0,f.jsx)("input",{className:"form-check-input p-3 mt-0",id:t.dish_modification_id,type:2===n.type?"checkbox":"radio",checked:u,disabled:2===n.type&&n.num_max===a&&!u,onChange:function(n){return i.changeValue(n,t)}})}),(0,f.jsxs)("label",{className:"col form-check-label py-4",htmlFor:t.dish_modification_id,children:[(0,f.jsx)("span",{children:t.name}),!!t.price&&(0,f.jsxs)("span",{className:"text-primary ms-0 ms-md-2 d-block d-md-inline-block",children:[!t.hidePlus&&"+",(0,m.f$)(t.price)]})]}),2===n.type&&u&&(0,f.jsx)("div",{className:"col-auto d-flex align-items-center",children:(0,f.jsx)(p.Z,{max:n.num_max-a+s.a,count:s.a,onChangeCount:function(i){return o([_objectSpread(_objectSpread({},s),{},{a:i})])}})})]},t.dish_modification_id)})})}}]),DishGroup}(d.Component);(0,u.Z)(h,"defaultProps",{showCart:!0});var g=n(1175),v=n(5797),b=function(i){(0,a.Z)(DishModification,i);var t,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}(),function(){var i,n=(0,s.Z)(DishModification);if(t){var e=(0,s.Z)(this).constructor;i=Reflect.construct(n,arguments,e)}else i=n.apply(this,arguments);return(0,c.Z)(this,i)});function DishModification(i){var t;return(0,e.Z)(this,DishModification),t=n.call(this,i),(0,u.Z)((0,r.Z)(t),"isValid",function(){var i=!0;return t.props.dish.group_modifications.forEach(function(n){var e=t.getGroupSum(n).count;n.num_min>e&&(i=!1)}),i}),(0,u.Z)((0,r.Z)(t),"changeValue",function(i){var n=t.state.modification,e=t.props.onChangeModification;i.forEach(function(i){l.ZP.findWhere(n,{m:i.m})||n.push(i)}),n=n.map(function(t){return l.ZP.findWhere(i,{m:t.m})||t}),n=l.ZP.filter(n,function(i){return i.a}),t.setState({modification:n},function(){e(n,!t.isValid())})}),(0,u.Z)((0,r.Z)(t),"getGroupDescription",function(i){var getPlural=function(i){return"".concat(i," ").concat((0,m.Ho)(i,[(0,g.Z)("delivery.product.optionSingle"),(0,g.Z)("delivery.product.optionFew"),(0,g.Z)("delivery.product.optionMany")]))};return 1===i.type?(0,g.Z)("delivery.product.groupOneOfMany"):0!==i.num_min&&999===i.num_max?(0,g.Z)("delivery.product.groupLowerLimit",{groupLowerLimit:getPlural(i.num_min)}):0===i.num_min&&999!==i.num_max?(0,g.Z)("delivery.product.groupUpperLimit",{groupUpperLimit:getPlural(i.num_max)}):0!==i.num_min&&999!==i.num_max?(0,g.Z)("delivery.product.groupUpperAndLowerLimit",{groupLowerLimit:i.num_min,groupUpperLimit:getPlural(i.num_max)}):""}),(0,u.Z)((0,r.Z)(t),"getGroupSum",function(i){var n=t.state.modification,e=0,o=0;return i.modifications.forEach(function(i){var t=l.ZP.findWhere(n,{m:i.dish_modification_id});t&&(e+=t.a*i.price,o+=t.a)}),{sum:e,count:o}}),(0,u.Z)((0,r.Z)(t),"getTotalSum",function(){var i=t.props.dish,n=i.price;return i.group_modifications.forEach(function(i){var e=t.getGroupSum(i).sum;n+=e}),n}),t.state={modification:i.modification},t}return(0,o.Z)(DishModification,[{key:"render",value:function(){var i=this,t=this.state.modification,n=this.props,e=n.dish,o=n.firstSubmit,r=n.showCart,a=e.group_modifications;return(0,f.jsx)("div",{id:"dish-modification",children:a.map(function(n){return(0,f.jsxs)("div",{className:"modification-group",children:[(0,f.jsx)("div",{className:"h5 ".concat(n.num_min>0&&"has-validation"),children:n.name}),i.getGroupDescription(n)&&(0,f.jsxs)("div",{className:"fs-6 small text-muted fw",children:[(0,f.jsx)("span",{className:"me-2",children:i.getGroupDescription(n)}),!o&&n.num_min>i.getGroupSum(n).count&&(0,f.jsx)(v.Yr,{}),!o&&n.num_min<=i.getGroupSum(n).count&&(0,f.jsx)(v.tc,{})]}),(0,f.jsx)(h,{group:n,showCart:r,modification:t,onChange:i.changeValue})]},n.dish_modification_group_id)})})}}]),DishModification}(d.Component);(0,u.Z)(b,"defaultProps",{firstSubmit:!0,modification:[],onChangeModification:function(){return{}},showCart:!0})}}]);
//# sourceMappingURL=8306-738265cd7213d077.js.map